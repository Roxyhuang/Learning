浅谈闭包与应用场景
--
> 
本文参考 ：https://segmentfault.com/a/1190000003935661  　　　以及司徒正美大大的博客:http://www.cnblogs.com/rubylouvre/

　　这几天公司里的大神简单的指导了一下我，试着让我明白闭包的原理以及一些应用场景。下面我简单进行一个总结。

 先来说说闭包的概念引用司徒正美大大的解释：
　　

　　**闭包：**是指语法域位于某个特定的区域，具有持续参照（读写）位于该区域内自身范围之外的执行域上的非持久型变量值能力的段落。这些外部执行域的非持久型变量神奇地保留它们在闭包最初定义（或创建）时的值（深连结）。  
　　简单来说，闭包就是在另一个作用域中保存了一份它从上一级函数或作用域取得的变量（键值对），而这些键值对是不会随上一级函数的执行完成而销毁。周爱民说得更清楚，闭包就是“属性表”，闭包就是一个数据块，闭包就是一个存放着“Name=Value”的对照表。就这么简单。但是，必须强调，闭包是一个运行期概念。


**JS中的闭包有两个特点：**
		
1. 作为一个函数变量的一个引用 - 当函数返回时，其处于激活状态。
2. 一个闭包就是当一个函数返回时，一个没有释放资源的栈区。


**现在比较让人认同的闭包实现有如下三种：**


1.对象闭包

	  	with(obj){
	   	//这里是对象闭包
	    }`

2.函数闭包

		(function(){
    	//函数闭包
   		})()

3.catch闭包 （IE不行）

		try{
		//...
		} catch(e) {
		//catch闭包 但IE里不行
		}



以下通过几个代码来分析一下

　　来说说自己的理解，闭包其核心目的，在本人看来就是函数外部调用函数内部的变量。因为JS作用域的限制，函数内部可以调用外部变量，但反之不行，那我们可以通过闭包的结构来解决这个问题。

	        var test = (function(){
            	var id = 0;
                return function(){
                    return id;
                }
        })();
            console.log(test());
			//运行结果：0
            console.log(test());
			//运行结果：0
            console.log(test());
			//运行结果：0
            console.log(test());
			//运行结果：0

我们再来看一个例子：

		//阶乘函数
         var factorial =(function(n){
            if(n<1){
                return "参数错误";
            }else if (n==1){
                return n;
            }else{
                return "结果为："+n*(n-1);
            }
        })(5);

        console.log(factorial);


接下来我